{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\VAICS-BHARMU01\\\\Desktop\\\\slot booking\\\\room-booking-frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { io } from \"socket.io-client\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io(\"http://localhost:5000\");\nconst rooms = [\"Akasha\", \"Vayu\", \"Agni\", \"Main Conference Hall\"];\nfunction App() {\n  _s();\n  const [bookings, setBookings] = useState([]);\n  const [room, setRoom] = useState(\"\");\n  const [user, setUser] = useState(\"\");\n  const [purpose, setPurpose] = useState(\"\");\n  const [date, setDate] = useState(\"\");\n  const [startTime, setStartTime] = useState(\"\");\n  const [endTime, setEndTime] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  useEffect(() => {\n    axios.get(\"http://localhost:5000/slots\").then(res => setBookings(res.data));\n    socket.on(\"new_booking\", newBooking => {\n      setBookings(prev => [newBooking, ...prev]);\n    });\n    return () => socket.off(\"new_booking\");\n  }, []);\n  const handleBooking = async () => {\n    if (!room || !user || !purpose || !date || !startTime || !endTime) {\n      setError(\"All fields are required!\");\n      return;\n    }\n    try {\n      await axios.post(\"http://localhost:5000/book\", {\n        room_name: room,\n        user_name: user,\n        purpose,\n        booking_date: date,\n        start_time: startTime,\n        end_time: endTime\n      });\n      setRoom(\"\");\n      setUser(\"\");\n      setPurpose(\"\");\n      setDate(\"\");\n      setStartTime(\"\");\n      setEndTime(\"\");\n      setError(\"\");\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || \"Booking failed\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-center\",\n      children: \"Room Booking\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Room:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), rooms.map(r => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            name: \"room\",\n            value: r,\n            onChange: e => setRoom(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this), \" \", r]\n        }, r, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control mt-2\",\n          placeholder: \"Your Name\",\n          onChange: e => setUser(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control mt-2\",\n          placeholder: \"Purpose\",\n          onChange: e => setPurpose(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control mt-2\",\n          type: \"date\",\n          onChange: e => setDate(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control mt-2\",\n          type: \"time\",\n          onChange: e => setStartTime(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control mt-2\",\n          type: \"time\",\n          onChange: e => setEndTime(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary mt-3\",\n          onClick: handleBooking,\n          children: \"Book\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"7Ie8qvnnSNrpnRH2L6CSQDG/zfg=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","axios","io","jsxDEV","_jsxDEV","socket","rooms","App","_s","bookings","setBookings","room","setRoom","user","setUser","purpose","setPurpose","date","setDate","startTime","setStartTime","endTime","setEndTime","error","setError","get","then","res","data","on","newBooking","prev","off","handleBooking","post","room_name","user_name","booking_date","start_time","end_time","err","_err$response","_err$response$data","response","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","r","type","name","value","onChange","e","target","placeholder","onClick","_c","$RefreshReg$"],"sources":["C:/Users/VAICS-BHARMU01/Desktop/slot booking/room-booking-frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { io } from \"socket.io-client\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nconst socket = io(\"http://localhost:5000\");\n\nconst rooms = [\"Akasha\", \"Vayu\", \"Agni\", \"Main Conference Hall\"];\n\nfunction App() {\n  const [bookings, setBookings] = useState([]);\n  const [room, setRoom] = useState(\"\");\n  const [user, setUser] = useState(\"\");\n  const [purpose, setPurpose] = useState(\"\");\n  const [date, setDate] = useState(\"\");\n  const [startTime, setStartTime] = useState(\"\");\n  const [endTime, setEndTime] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  useEffect(() => {\n    axios.get(\"http://localhost:5000/slots\").then((res) => setBookings(res.data));\n\n    socket.on(\"new_booking\", (newBooking) => {\n      setBookings((prev) => [newBooking, ...prev]);\n    });\n\n    return () => socket.off(\"new_booking\");\n  }, []);\n\n  const handleBooking = async () => {\n    if (!room || !user || !purpose || !date || !startTime || !endTime) {\n      setError(\"All fields are required!\");\n      return;\n    }\n\n    try {\n      await axios.post(\"http://localhost:5000/book\", {\n        room_name: room,\n        user_name: user,\n        purpose,\n        booking_date: date,\n        start_time: startTime,\n        end_time: endTime,\n      });\n\n      setRoom(\"\");\n      setUser(\"\");\n      setPurpose(\"\");\n      setDate(\"\");\n      setStartTime(\"\");\n      setEndTime(\"\");\n      setError(\"\");\n    } catch (err) {\n      setError(err.response?.data?.error || \"Booking failed\");\n    }\n  };\n\n  return (\n    <div className=\"container mt-4\">\n      <h2 className=\"text-center\">Room Booking</h2>\n      {error && <div className=\"alert alert-danger\">{error}</div>}\n      <div className=\"row\">\n        <div className=\"col-md-6\">\n          <label>Room:</label>\n          {rooms.map((r) => (\n            <div key={r}>\n              <input type=\"radio\" name=\"room\" value={r} onChange={(e) => setRoom(e.target.value)} /> {r}\n            </div>\n          ))}\n          <input className=\"form-control mt-2\" placeholder=\"Your Name\" onChange={(e) => setUser(e.target.value)} />\n          <input className=\"form-control mt-2\" placeholder=\"Purpose\" onChange={(e) => setPurpose(e.target.value)} />\n          <input className=\"form-control mt-2\" type=\"date\" onChange={(e) => setDate(e.target.value)} />\n          <input className=\"form-control mt-2\" type=\"time\" onChange={(e) => setStartTime(e.target.value)} />\n          <input className=\"form-control mt-2\" type=\"time\" onChange={(e) => setEndTime(e.target.value)} />\n          <button className=\"btn btn-primary mt-3\" onClick={handleBooking}>Book</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}